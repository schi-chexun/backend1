# EasyActivity æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ - å®Œæ•´åŠŸèƒ½å®ç°æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [åŠŸèƒ½æ¨¡å—](#åŠŸèƒ½æ¨¡å—)
- [API æ¥å£æ–‡æ¡£](#api-æ¥å£æ–‡æ¡£)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [éƒ¨ç½²è¯´æ˜](#éƒ¨ç½²è¯´æ˜)

---

## ğŸ“– é¡¹ç›®æ¦‚è¿°

**EasyActivity** æ˜¯ä¸€ä¸ªåŸºäº Spring Boot + MyBatis çš„æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿåç«¯é¡¹ç›®ï¼Œä¸»è¦ç”¨äºç®¡ç†æ ¡å›­å†…çš„å„ç±»æ´»åŠ¨ï¼ŒåŒ…æ‹¬æ´»åŠ¨çš„å‘å¸ƒã€æŠ¥åã€ç­¾åˆ°ç­‰åŠŸèƒ½ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- âœ… ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†
- âœ… æ´»åŠ¨çš„åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤
- âœ… æ´»åŠ¨æŠ¥åä¸å–æ¶ˆæŠ¥å
- âœ… æ´»åŠ¨ç­¾åˆ°åŠŸèƒ½
- âœ… æ´»åŠ¨çŠ¶æ€è‡ªåŠ¨ç®¡ç†
- âœ… å‚ä¸è€…åˆ—è¡¨æŸ¥è¯¢
- âœ… ç”¨æˆ·å‚ä¸æ´»åŠ¨è®°å½•æŸ¥è¯¢

---

## ğŸ›  æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Spring Boot | 3.2.0 | æ ¸å¿ƒæ¡†æ¶ |
| MyBatis | 3.0.3 | ORM æ¡†æ¶ |
| MySQL | 8.0+ | æ•°æ®åº“ |
| Java | 17 | å¼€å‘è¯­è¨€ |
| Maven | 3.6+ | æ„å»ºå·¥å…· |
| Lombok | - | ç®€åŒ–ä»£ç  |

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å—

#### 1.1 ç”¨æˆ·æ³¨å†Œ
- **åŠŸèƒ½æè¿°**ï¼šæ–°ç”¨æˆ·æ³¨å†Œè´¦å·
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - ç”¨æˆ·åå¿…é¡»å”¯ä¸€
  - å­¦å·å¿…é¡»å”¯ä¸€ï¼ˆå¦‚æœæä¾›ï¼‰
  - é»˜è®¤è§’è‰²ä¸ºæ™®é€šç”¨æˆ·ï¼ˆrole=0ï¼‰
  - è‡ªåŠ¨è®°å½•åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´

#### 1.2 ç”¨æˆ·ç™»å½•
- **åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·ç™»å½•éªŒè¯
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - éªŒè¯ç”¨æˆ·åå’Œå¯†ç 
  - è¿”å›ç”¨æˆ·ä¿¡æ¯ï¼ˆä¸åŒ…å«å¯†ç ï¼‰

#### 1.3 ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢
- **åŠŸèƒ½æè¿°**ï¼šæ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
- **è¿”å›æ•°æ®**ï¼šç”¨æˆ·ä¿¡æ¯ï¼ˆä¸åŒ…å«å¯†ç ï¼‰

#### 1.4 ç”¨æˆ·ä¿¡æ¯æ›´æ–°
- **åŠŸèƒ½æè¿°**ï¼šæ›´æ–°ç”¨æˆ·ä¸ªäººä¿¡æ¯
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - è‡ªåŠ¨æ›´æ–°æ›´æ–°æ—¶é—´
  - ä¸èƒ½ä¿®æ”¹ç”¨æˆ·è§’è‰²ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰

#### 1.5 ç”¨æˆ·åˆ é™¤
- **åŠŸèƒ½æè¿°**ï¼šåˆ é™¤ç”¨æˆ·è´¦å·
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - åˆ é™¤ç”¨æˆ·å‰éœ€æ£€æŸ¥æ˜¯å¦æœ‰å…³è”æ•°æ®

### 2. æ´»åŠ¨ç®¡ç†æ¨¡å—

#### 2.1 æ´»åŠ¨åˆ›å»º
- **åŠŸèƒ½æè¿°**ï¼šåˆ›å»ºæ–°çš„æ´»åŠ¨
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - æ´»åŠ¨çŠ¶æ€é»˜è®¤ä¸º"æœªå¼€å§‹"ï¼ˆstatus=0ï¼‰
  - å½“å‰å‚ä¸äººæ•°é»˜è®¤ä¸º0
  - è‡ªåŠ¨è®°å½•åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´
  - éœ€è¦æŒ‡å®šåˆ›å»ºè€…ID

#### 2.2 æ´»åŠ¨æŸ¥è¯¢
- **åŠŸèƒ½æè¿°**ï¼šæŸ¥è¯¢æ´»åŠ¨åˆ—è¡¨
- **æŸ¥è¯¢æ–¹å¼**ï¼š
  - æŸ¥è¯¢æ‰€æœ‰æ´»åŠ¨
  - æ ¹æ®æ´»åŠ¨IDæŸ¥è¯¢å•ä¸ªæ´»åŠ¨
  - æ ¹æ®æ´»åŠ¨çŠ¶æ€æŸ¥è¯¢æ´»åŠ¨åˆ—è¡¨

#### 2.3 æ´»åŠ¨æ›´æ–°
- **åŠŸèƒ½æè¿°**ï¼šæ›´æ–°æ´»åŠ¨ä¿¡æ¯
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - è‡ªåŠ¨æ›´æ–°æ›´æ–°æ—¶é—´
  - å¯ä»¥ä¿®æ”¹æ´»åŠ¨æ ‡é¢˜ã€æè¿°ã€åœ°ç‚¹ã€æ—¶é—´ã€æœ€å¤§å‚ä¸äººæ•°ç­‰

#### 2.4 æ´»åŠ¨åˆ é™¤
- **åŠŸèƒ½æè¿°**ï¼šåˆ é™¤æ´»åŠ¨
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - åˆ é™¤æ´»åŠ¨å‰è‡ªåŠ¨åˆ é™¤æ‰€æœ‰å‚ä¸è€…è®°å½•
  - çº§è”åˆ é™¤ä¿è¯æ•°æ®ä¸€è‡´æ€§

#### 2.5 æ´»åŠ¨çŠ¶æ€æ›´æ–°
- **åŠŸèƒ½æè¿°**ï¼šè‡ªåŠ¨æ›´æ–°æ´»åŠ¨çŠ¶æ€
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - æ ¹æ®å½“å‰æ—¶é—´ä¸æ´»åŠ¨å¼€å§‹/ç»“æŸæ—¶é—´æ¯”è¾ƒ
  - çŠ¶æ€ï¼š0-æœªå¼€å§‹ï¼Œ1-è¿›è¡Œä¸­ï¼Œ2-å·²ç»“æŸï¼Œ3-å·²å–æ¶ˆ

### 3. æ´»åŠ¨å‚ä¸æ¨¡å—

#### 3.1 æ´»åŠ¨æŠ¥å
- **åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·æŠ¥åå‚åŠ æ´»åŠ¨
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - æ£€æŸ¥æ´»åŠ¨æ˜¯å¦å­˜åœ¨
  - æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²æŠ¥åï¼ˆé˜²æ­¢é‡å¤æŠ¥åï¼‰
  - æ£€æŸ¥æ´»åŠ¨æ˜¯å¦å·²æ»¡å‘˜
  - è‡ªåŠ¨å¢åŠ æ´»åŠ¨å½“å‰å‚ä¸äººæ•°
  - è®°å½•æŠ¥åæ—¶é—´

#### 3.2 å–æ¶ˆæŠ¥å
- **åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·å–æ¶ˆæ´»åŠ¨æŠ¥å
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - æ£€æŸ¥æŠ¥åè®°å½•æ˜¯å¦å­˜åœ¨
  - è‡ªåŠ¨å‡å°‘æ´»åŠ¨å½“å‰å‚ä¸äººæ•°
  - åˆ é™¤å‚ä¸è€…è®°å½•

#### 3.3 æ´»åŠ¨ç­¾åˆ°
- **åŠŸèƒ½æè¿°**ï¼šç”¨æˆ·ç­¾åˆ°å‚åŠ æ´»åŠ¨
- **ä¸šåŠ¡è§„åˆ™**ï¼š
  - æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²æŠ¥å
  - æ£€æŸ¥æ˜¯å¦å·²ç­¾åˆ°ï¼ˆé˜²æ­¢é‡å¤ç­¾åˆ°ï¼‰
  - è®°å½•ç­¾åˆ°æ—¶é—´å’ŒçŠ¶æ€

#### 3.4 å‚ä¸è€…åˆ—è¡¨æŸ¥è¯¢
- **åŠŸèƒ½æè¿°**ï¼šæŸ¥è¯¢æ´»åŠ¨çš„å‚ä¸è€…åˆ—è¡¨
- **è¿”å›æ•°æ®**ï¼šå‚ä¸è€…ä¿¡æ¯ï¼ˆåŒ…æ‹¬æŠ¥åæ—¶é—´ã€ç­¾åˆ°çŠ¶æ€ç­‰ï¼‰

#### 3.5 ç”¨æˆ·æ´»åŠ¨è®°å½•æŸ¥è¯¢
- **åŠŸèƒ½æè¿°**ï¼šæŸ¥è¯¢ç”¨æˆ·å‚ä¸çš„æ‰€æœ‰æ´»åŠ¨
- **è¿”å›æ•°æ®**ï¼šç”¨æˆ·å‚ä¸çš„æ´»åŠ¨åˆ—è¡¨

---

## ğŸ“¡ API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8080/api`
- **Content-Type**: `application/json`
- **å“åº”æ ¼å¼**: ç»Ÿä¸€ä½¿ç”¨ `Result<T>` æ ¼å¼

### Result å“åº”æ ¼å¼

```json
{
  "code": 200,           // çŠ¶æ€ç ï¼š200-æˆåŠŸï¼Œ500-å¤±è´¥
  "message": "æ“ä½œæˆåŠŸ",  // æç¤ºä¿¡æ¯
  "data": {}            // è¿”å›æ•°æ®
}
```

---

### 1. ç”¨æˆ·ç›¸å…³æ¥å£

#### 1.1 ç”¨æˆ·æ³¨å†Œ

**æ¥å£åœ°å€**: `POST /users/register`

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "testuser",
  "password": "123456",
  "realName": "æµ‹è¯•ç”¨æˆ·",
  "studentId": "20240004",
  "email": "test@example.com",
  "phone": "13800138003"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "data": {
    "id": 4,
    "username": "testuser",
    "realName": "æµ‹è¯•ç”¨æˆ·",
    "studentId": "20240004",
    "email": "test@example.com",
    "phone": "13800138003",
    "role": 0,
    "createTime": "2024-12-24T10:00:00",
    "updateTime": "2024-12-24T10:00:00"
  }
}
```

**é”™è¯¯æƒ…å†µ**:
- ç”¨æˆ·åå·²å­˜åœ¨ï¼š`{"code": 500, "message": "ç”¨æˆ·åå·²å­˜åœ¨"}`
- å­¦å·å·²å­˜åœ¨ï¼š`{"code": 500, "message": "å­¦å·å·²å­˜åœ¨"}`

---

#### 1.2 ç”¨æˆ·ç™»å½•

**æ¥å£åœ°å€**: `POST /users/login`

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "user1",
  "password": "user123"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "id": 2,
    "username": "user1",
    "realName": "å¼ ä¸‰",
    "studentId": "20240002",
    "email": "user1@example.com",
    "phone": "13800138001",
    "role": 0,
    "createTime": "2024-12-20T10:00:00",
    "updateTime": "2024-12-20T10:00:00"
  }
}
```

**é”™è¯¯æƒ…å†µ**:
- ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼š`{"code": 500, "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"}`

---

#### 1.3 æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯

**æ¥å£åœ°å€**: `GET /users/{id}`

**è·¯å¾„å‚æ•°**:
- `id`: ç”¨æˆ·ID

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": null,
  "data": {
    "id": 1,
    "username": "admin",
    "realName": "ç®¡ç†å‘˜",
    "studentId": "20240001",
    "email": "admin@example.com",
    "phone": "13800138000",
    "role": 1,
    "createTime": "2024-12-20T10:00:00",
    "updateTime": "2024-12-20T10:00:00"
  }
}
```

---

#### 1.4 æ›´æ–°ç”¨æˆ·ä¿¡æ¯

**æ¥å£åœ°å€**: `PUT /users/{id}`

**è·¯å¾„å‚æ•°**:
- `id`: ç”¨æˆ·ID

**è¯·æ±‚å‚æ•°**:
```json
{
  "username": "testuser",
  "password": "newpassword",
  "realName": "æ–°åå­—",
  "studentId": "20240004",
  "email": "newemail@example.com",
  "phone": "13900139000"
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "ç”¨æˆ·ä¿¡æ¯æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 4,
    "username": "testuser",
    "realName": "æ–°åå­—",
    "email": "newemail@example.com",
    "phone": "13900139000"
  }
}
```

---

#### 1.5 åˆ é™¤ç”¨æˆ·

**æ¥å£åœ°å€**: `DELETE /users/{id}`

**è·¯å¾„å‚æ•°**:
- `id`: ç”¨æˆ·ID

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "ç”¨æˆ·åˆ é™¤æˆåŠŸ",
  "data": null
}
```

---

### 2. æ´»åŠ¨ç›¸å…³æ¥å£

#### 2.1 è·å–æ‰€æœ‰æ´»åŠ¨

**æ¥å£åœ°å€**: `GET /activities`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": null,
  "data": [
    {
      "id": 1,
      "title": "æ ¡å›­ç¯®çƒèµ›",
      "description": "æ¬¢è¿æ‰€æœ‰ç¯®çƒçˆ±å¥½è€…å‚åŠ ",
      "location": "ä½“è‚²é¦†",
      "startTime": "2024-12-20T14:00:00",
      "endTime": "2024-12-20T17:00:00",
      "status": 0,
      "maxParticipants": 20,
      "currentParticipants": 0,
      "creatorId": 1,
      "createTime": "2024-12-20T10:00:00",
      "updateTime": "2024-12-20T10:00:00"
    }
  ]
}
```

---

#### 2.2 æ ¹æ®IDè·å–æ´»åŠ¨

**æ¥å£åœ°å€**: `GET /activities/{id}`

**è·¯å¾„å‚æ•°**:
- `id`: æ´»åŠ¨ID

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": null,
  "data": {
    "id": 1,
    "title": "æ ¡å›­ç¯®çƒèµ›",
    "description": "æ¬¢è¿æ‰€æœ‰ç¯®çƒçˆ±å¥½è€…å‚åŠ ",
    "location": "ä½“è‚²é¦†",
    "startTime": "2024-12-20T14:00:00",
    "endTime": "2024-12-20T17:00:00",
    "status": 0,
    "maxParticipants": 20,
    "currentParticipants": 5,
    "creatorId": 1,
    "createTime": "2024-12-20T10:00:00",
    "updateTime": "2024-12-20T10:00:00"
  }
}
```

**é”™è¯¯æƒ…å†µ**:
- æ´»åŠ¨ä¸å­˜åœ¨ï¼š`{"code": 500, "message": "æ´»åŠ¨ä¸å­˜åœ¨"}`

---

#### 2.3 æ ¹æ®çŠ¶æ€è·å–æ´»åŠ¨åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /activities/status/{status}`

**è·¯å¾„å‚æ•°**:
- `status`: æ´»åŠ¨çŠ¶æ€ï¼ˆ0-æœªå¼€å§‹ï¼Œ1-è¿›è¡Œä¸­ï¼Œ2-å·²ç»“æŸï¼Œ3-å·²å–æ¶ˆï¼‰

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": null,
  "data": [
    {
      "id": 1,
      "title": "æ ¡å›­ç¯®çƒèµ›",
      "status": 0,
      ...
    }
  ]
}
```

---

#### 2.4 åˆ›å»ºæ´»åŠ¨

**æ¥å£åœ°å€**: `POST /activities`

**è¯·æ±‚å‚æ•°**:
```json
{
  "title": "æ–°å¹´æ™šä¼š",
  "description": "æ ¡å›­æ–°å¹´æ™šä¼šï¼Œæ¬¢è¿å‚åŠ ",
  "location": "å¤§ç¤¼å ‚",
  "startTime": "2024-12-31T19:00:00",
  "endTime": "2024-12-31T22:00:00",
  "maxParticipants": 500,
  "creatorId": 1
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ´»åŠ¨åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 3,
    "title": "æ–°å¹´æ™šä¼š",
    "description": "æ ¡å›­æ–°å¹´æ™šä¼šï¼Œæ¬¢è¿å‚åŠ ",
    "location": "å¤§ç¤¼å ‚",
    "startTime": "2024-12-31T19:00:00",
    "endTime": "2024-12-31T22:00:00",
    "status": 0,
    "maxParticipants": 500,
    "currentParticipants": 0,
    "creatorId": 1,
    "createTime": "2024-12-24T10:00:00",
    "updateTime": "2024-12-24T10:00:00"
  }
}
```

---

#### 2.5 æ›´æ–°æ´»åŠ¨

**æ¥å£åœ°å€**: `PUT /activities/{id}`

**è·¯å¾„å‚æ•°**:
- `id`: æ´»åŠ¨ID

**è¯·æ±‚å‚æ•°**:
```json
{
  "title": "æ–°å¹´æ™šä¼šï¼ˆæ›´æ–°ï¼‰",
  "description": "æ›´æ–°åçš„æè¿°",
  "location": "æ–°åœ°ç‚¹",
  "startTime": "2024-12-31T19:00:00",
  "endTime": "2024-12-31T22:00:00",
  "maxParticipants": 600
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ´»åŠ¨æ›´æ–°æˆåŠŸ",
  "data": {
    "id": 3,
    "title": "æ–°å¹´æ™šä¼šï¼ˆæ›´æ–°ï¼‰",
    ...
  }
}
```

---

#### 2.6 åˆ é™¤æ´»åŠ¨

**æ¥å£åœ°å€**: `DELETE /activities/{id}`

**è·¯å¾„å‚æ•°**:
- `id`: æ´»åŠ¨ID

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ´»åŠ¨åˆ é™¤æˆåŠŸ",
  "data": null
}
```

---

#### 2.7 æ›´æ–°æ´»åŠ¨çŠ¶æ€

**æ¥å£åœ°å€**: `PUT /activities/{id}/status`

**è·¯å¾„å‚æ•°**:
- `id`: æ´»åŠ¨ID

**è¯´æ˜**: æ ¹æ®å½“å‰æ—¶é—´è‡ªåŠ¨æ›´æ–°æ´»åŠ¨çŠ¶æ€

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ´»åŠ¨çŠ¶æ€æ›´æ–°æˆåŠŸ",
  "data": null
}
```

---

### 3. å‚ä¸è€…ç›¸å…³æ¥å£

#### 3.1 æŠ¥åå‚åŠ æ´»åŠ¨

**æ¥å£åœ°å€**: `POST /participants/register`

**è¯·æ±‚å‚æ•°**ï¼ˆQueryå‚æ•°ï¼‰:
- `activityId`: æ´»åŠ¨ID
- `userId`: ç”¨æˆ·ID

**ç¤ºä¾‹**: `POST /participants/register?activityId=1&userId=2`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æŠ¥åæˆåŠŸ",
  "data": {
    "id": 1,
    "activityId": 1,
    "userId": 2,
    "registerTime": "2024-12-24T10:00:00",
    "checkInStatus": 0,
    "checkInTime": null
  }
}
```

**é”™è¯¯æƒ…å†µ**:
- æ´»åŠ¨ä¸å­˜åœ¨ï¼š`{"code": 500, "message": "æ´»åŠ¨ä¸å­˜åœ¨"}`
- å·²æŠ¥åï¼š`{"code": 500, "message": "æ‚¨å·²æŠ¥åæ­¤æ´»åŠ¨"}`
- æ´»åŠ¨å·²æ»¡å‘˜ï¼š`{"code": 500, "message": "æ´»åŠ¨å·²æ»¡å‘˜"}`

---

#### 3.2 å–æ¶ˆæŠ¥å

**æ¥å£åœ°å€**: `DELETE /participants/cancel`

**è¯·æ±‚å‚æ•°**ï¼ˆQueryå‚æ•°ï¼‰:
- `activityId`: æ´»åŠ¨ID
- `userId`: ç”¨æˆ·ID

**ç¤ºä¾‹**: `DELETE /participants/cancel?activityId=1&userId=2`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "å–æ¶ˆæŠ¥åæˆåŠŸ",
  "data": null
}
```

**é”™è¯¯æƒ…å†µ**:
- æœªæ‰¾åˆ°æŠ¥åè®°å½•ï¼š`{"code": 500, "message": "æœªæ‰¾åˆ°æŠ¥åè®°å½•"}`

---

#### 3.3 ç­¾åˆ°

**æ¥å£åœ°å€**: `POST /participants/checkin`

**è¯·æ±‚å‚æ•°**ï¼ˆQueryå‚æ•°ï¼‰:
- `activityId`: æ´»åŠ¨ID
- `userId`: ç”¨æˆ·ID

**ç¤ºä¾‹**: `POST /participants/checkin?activityId=1&userId=2`

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "ç­¾åˆ°æˆåŠŸ",
  "data": null
}
```

**é”™è¯¯æƒ…å†µ**:
- æœªæ‰¾åˆ°æŠ¥åè®°å½•ï¼š`{"code": 500, "message": "æœªæ‰¾åˆ°æŠ¥åè®°å½•"}`
- å·²ç­¾åˆ°ï¼š`{"code": 500, "message": "æ‚¨å·²ç­¾åˆ°"}`

---

#### 3.4 è·å–æ´»åŠ¨çš„å‚ä¸è€…åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /participants/activity/{activityId}`

**è·¯å¾„å‚æ•°**:
- `activityId`: æ´»åŠ¨ID

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": null,
  "data": [
    {
      "id": 1,
      "activityId": 1,
      "userId": 2,
      "registerTime": "2024-12-24T10:00:00",
      "checkInStatus": 1,
      "checkInTime": "2024-12-24T14:00:00"
    },
    {
      "id": 2,
      "activityId": 1,
      "userId": 3,
      "registerTime": "2024-12-24T11:00:00",
      "checkInStatus": 0,
      "checkInTime": null
    }
  ]
}
```

---

#### 3.5 è·å–ç”¨æˆ·å‚ä¸çš„æ´»åŠ¨åˆ—è¡¨

**æ¥å£åœ°å€**: `GET /participants/user/{userId}`

**è·¯å¾„å‚æ•°**:
- `userId`: ç”¨æˆ·ID

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": null,
  "data": [
    {
      "id": 1,
      "activityId": 1,
      "userId": 2,
      "registerTime": "2024-12-24T10:00:00",
      "checkInStatus": 1,
      "checkInTime": "2024-12-24T14:00:00"
    },
    {
      "id": 3,
      "activityId": 2,
      "userId": 2,
      "registerTime": "2024-12-24T12:00:00",
      "checkInStatus": 0,
      "checkInTime": null
    }
  ]
}
```

---

## ğŸ—„ æ•°æ®åº“è®¾è®¡

### 1. ç”¨æˆ·è¡¨ (user)

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| id | BIGINT | ç”¨æˆ·ID | ä¸»é”®ï¼Œè‡ªå¢ |
| username | VARCHAR(50) | ç”¨æˆ·å | éç©ºï¼Œå”¯ä¸€ |
| password | VARCHAR(255) | å¯†ç  | éç©º |
| real_name | VARCHAR(50) | çœŸå®å§“å | |
| student_id | VARCHAR(20) | å­¦å· | å”¯ä¸€ |
| email | VARCHAR(100) | é‚®ç®± | |
| phone | VARCHAR(20) | æ‰‹æœºå· | |
| role | INT | ç”¨æˆ·è§’è‰² | 0-æ™®é€šç”¨æˆ·ï¼Œ1-ç®¡ç†å‘˜ |
| create_time | DATETIME | åˆ›å»ºæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |
| update_time | DATETIME | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨æ›´æ–° |

**ç´¢å¼•**:
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_username` (`username`)
- INDEX `idx_student_id` (`student_id`)

---

### 2. æ´»åŠ¨è¡¨ (activity)

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| id | BIGINT | æ´»åŠ¨ID | ä¸»é”®ï¼Œè‡ªå¢ |
| title | VARCHAR(200) | æ´»åŠ¨æ ‡é¢˜ | éç©º |
| description | TEXT | æ´»åŠ¨æè¿° | |
| location | VARCHAR(200) | æ´»åŠ¨åœ°ç‚¹ | |
| start_time | DATETIME | æ´»åŠ¨å¼€å§‹æ—¶é—´ | éç©º |
| end_time | DATETIME | æ´»åŠ¨ç»“æŸæ—¶é—´ | éç©º |
| status | INT | æ´»åŠ¨çŠ¶æ€ | 0-æœªå¼€å§‹ï¼Œ1-è¿›è¡Œä¸­ï¼Œ2-å·²ç»“æŸï¼Œ3-å·²å–æ¶ˆ |
| max_participants | INT | æœ€å¤§å‚ä¸äººæ•° | |
| current_participants | INT | å½“å‰å‚ä¸äººæ•° | é»˜è®¤0 |
| creator_id | BIGINT | åˆ›å»ºè€…ID | |
| create_time | DATETIME | åˆ›å»ºæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |
| update_time | DATETIME | æ›´æ–°æ—¶é—´ | è‡ªåŠ¨æ›´æ–° |

**ç´¢å¼•**:
- PRIMARY KEY (`id`)
- INDEX `idx_status` (`status`)
- INDEX `idx_creator_id` (`creator_id`)
- INDEX `idx_start_time` (`start_time`)

---

### 3. æ´»åŠ¨å‚ä¸è€…è¡¨ (activity_participant)

| å­—æ®µå | ç±»å‹ | è¯´æ˜ | çº¦æŸ |
|--------|------|------|------|
| id | BIGINT | ä¸»é”®ID | ä¸»é”®ï¼Œè‡ªå¢ |
| activity_id | BIGINT | æ´»åŠ¨ID | éç©º |
| user_id | BIGINT | ç”¨æˆ·ID | éç©º |
| register_time | DATETIME | æŠ¥åæ—¶é—´ | é»˜è®¤å½“å‰æ—¶é—´ |
| check_in_status | INT | ç­¾åˆ°çŠ¶æ€ | 0-æœªç­¾åˆ°ï¼Œ1-å·²ç­¾åˆ° |
| check_in_time | DATETIME | ç­¾åˆ°æ—¶é—´ | |

**ç´¢å¼•**:
- PRIMARY KEY (`id`)
- UNIQUE KEY `uk_activity_user` (`activity_id`, `user_id`)
- INDEX `idx_activity_id` (`activity_id`)
- INDEX `idx_user_id` (`user_id`)

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´ä¸šåŠ¡æµç¨‹ç¤ºä¾‹

#### åœºæ™¯ï¼šç”¨æˆ·æ³¨å†Œå¹¶å‚åŠ æ´»åŠ¨

**æ­¥éª¤1ï¼šç”¨æˆ·æ³¨å†Œ**
```bash
curl -X POST http://localhost:8080/api/users/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "newuser",
    "password": "123456",
    "realName": "æ–°ç”¨æˆ·",
    "studentId": "20240010",
    "email": "newuser@example.com",
    "phone": "13900139000"
  }'
```

**æ­¥éª¤2ï¼šç”¨æˆ·ç™»å½•**
```bash
curl -X POST http://localhost:8080/api/users/login \
  -H "Content-Type: application/json" \
  -d '{
    "username": "newuser",
    "password": "123456"
  }'
```

**æ­¥éª¤3ï¼šæŸ¥çœ‹æ‰€æœ‰æ´»åŠ¨**
```bash
curl http://localhost:8080/api/activities
```

**æ­¥éª¤4ï¼šæŠ¥åå‚åŠ æ´»åŠ¨**
```bash
curl -X POST "http://localhost:8080/api/participants/register?activityId=1&userId=4"
```

**æ­¥éª¤5ï¼šæŸ¥çœ‹æ´»åŠ¨è¯¦æƒ…**
```bash
curl http://localhost:8080/api/activities/1
```

**æ­¥éª¤6ï¼šæ´»åŠ¨å½“å¤©ç­¾åˆ°**
```bash
curl -X POST "http://localhost:8080/api/participants/checkin?activityId=1&userId=4"
```

**æ­¥éª¤7ï¼šæŸ¥çœ‹æˆ‘çš„æ´»åŠ¨åˆ—è¡¨**
```bash
curl http://localhost:8080/api/participants/user/4
```

---

### Postman æµ‹è¯•é›†åˆ

#### 1. ç”¨æˆ·æ³¨å†Œ
- **Method**: POST
- **URL**: `http://localhost:8080/api/users/register`
- **Body** (raw JSON):
```json
{
  "username": "testuser",
  "password": "123456",
  "realName": "æµ‹è¯•ç”¨æˆ·",
  "studentId": "20240010",
  "email": "test@example.com",
  "phone": "13800138000"
}
```

#### 2. ç”¨æˆ·ç™»å½•
- **Method**: POST
- **URL**: `http://localhost:8080/api/users/login`
- **Body** (raw JSON):
```json
{
  "username": "testuser",
  "password": "123456"
}
```

#### 3. åˆ›å»ºæ´»åŠ¨
- **Method**: POST
- **URL**: `http://localhost:8080/api/activities`
- **Body** (raw JSON):
```json
{
  "title": "æµ‹è¯•æ´»åŠ¨",
  "description": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•æ´»åŠ¨",
  "location": "æµ‹è¯•åœ°ç‚¹",
  "startTime": "2024-12-25T10:00:00",
  "endTime": "2024-12-25T12:00:00",
  "maxParticipants": 30,
  "creatorId": 1
}
```

---

## ğŸš€ éƒ¨ç½²è¯´æ˜

### ç¯å¢ƒè¦æ±‚

- JDK 17+
- Maven 3.6+ æˆ–ä½¿ç”¨é¡¹ç›®è‡ªå¸¦çš„ Maven Wrapper
- MySQL 8.0+
- ç«¯å£ 8080ï¼ˆå¯åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼‰

### éƒ¨ç½²æ­¥éª¤

#### 1. æ•°æ®åº“å‡†å¤‡

æ‰§è¡Œ SQL è„šæœ¬åˆ›å»ºæ•°æ®åº“å’Œè¡¨ï¼š
```bash
mysql -u root -p < src/main/resources/sql/schema.sql
```

æˆ–ä½¿ç”¨ MySQL Workbench æ‰§è¡Œ `src/main/resources/sql/schema.sql`

#### 2. é…ç½®æ–‡ä»¶ä¿®æ”¹

ç¼–è¾‘ `src/main/resources/application.yml`ï¼š
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/easy_activity?...
    username: root
    password: your_password  # ä¿®æ”¹ä¸ºæ‚¨çš„MySQLå¯†ç 
```

#### 3. ç¼–è¯‘é¡¹ç›®

```bash
.\mvnw.cmd clean compile
```

#### 4. è¿è¡Œé¡¹ç›®

```bash
.\mvnw.cmd spring-boot:run
```

#### 5. éªŒè¯éƒ¨ç½²

è®¿é—®ï¼š`http://localhost:8080/api/activities`

å¦‚æœè¿”å›æ´»åŠ¨åˆ—è¡¨ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼

---

## ğŸ“Š æµ‹è¯•æ•°æ®

æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬åŒ…å«ä»¥ä¸‹æµ‹è¯•æ•°æ®ï¼š

### ç”¨æˆ·æ•°æ®

| ç”¨æˆ·å | å¯†ç  | è§’è‰² | è¯´æ˜ |
|--------|------|------|------|
| admin | admin123 | ç®¡ç†å‘˜ | ç³»ç»Ÿç®¡ç†å‘˜ |
| user1 | user123 | æ™®é€šç”¨æˆ· | æµ‹è¯•ç”¨æˆ·1 |
| user2 | user123 | æ™®é€šç”¨æˆ· | æµ‹è¯•ç”¨æˆ·2 |

### æ´»åŠ¨æ•°æ®

1. **æ ¡å›­ç¯®çƒèµ›**
   - æ—¶é—´ï¼š2024-12-20 14:00:00 - 17:00:00
   - åœ°ç‚¹ï¼šä½“è‚²é¦†
   - æœ€å¤§å‚ä¸äººæ•°ï¼š20

2. **ç¼–ç¨‹ç«èµ›**
   - æ—¶é—´ï¼š2024-12-25 09:00:00 - 12:00:00
   - åœ°ç‚¹ï¼šè®¡ç®—æœºå®éªŒå®¤
   - æœ€å¤§å‚ä¸äººæ•°ï¼š50

---

## ğŸ”’ å®‰å…¨è¯´æ˜

### å½“å‰å®ç°

- âœ… å¯†ç ä¸è¿”å›ç»™å‰ç«¯ï¼ˆVOä¸­ä¸åŒ…å«å¯†ç å­—æ®µï¼‰
- âœ… ç”¨æˆ·åå’Œå­¦å·å”¯ä¸€æ€§æ ¡éªŒ
- âœ… æ´»åŠ¨æŠ¥åé˜²é‡å¤æ ¡éªŒ
- âœ… æ´»åŠ¨æ»¡å‘˜æ£€æŸ¥

### å»ºè®®å¢å¼ºï¼ˆå¾…å®ç°ï¼‰

- âš ï¸ å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆå»ºè®®ä½¿ç”¨ BCryptï¼‰
- âš ï¸ Token è®¤è¯æœºåˆ¶ï¼ˆJWTï¼‰
- âš ï¸ ç™»å½•æ‹¦æˆªå™¨å®Œå–„
- âš ï¸ ç®¡ç†å‘˜æƒé™æ§åˆ¶
- âš ï¸ æ¥å£è®¿é—®é¢‘ç‡é™åˆ¶

---

## ğŸ“ çŠ¶æ€ç è¯´æ˜

### æ´»åŠ¨çŠ¶æ€ (status)

- `0` - æœªå¼€å§‹
- `1` - è¿›è¡Œä¸­
- `2` - å·²ç»“æŸ
- `3` - å·²å–æ¶ˆ

### ç”¨æˆ·è§’è‰² (role)

- `0` - æ™®é€šç”¨æˆ·
- `1` - ç®¡ç†å‘˜

### ç­¾åˆ°çŠ¶æ€ (checkInStatus)

- `0` - æœªç­¾åˆ°
- `1` - å·²ç­¾åˆ°

---

## ğŸ‰ åŠŸèƒ½æ€»ç»“

### âœ… å·²å®ç°åŠŸèƒ½

1. **ç”¨æˆ·ç®¡ç†**
   - âœ… ç”¨æˆ·æ³¨å†Œ
   - âœ… ç”¨æˆ·ç™»å½•
   - âœ… ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢
   - âœ… ç”¨æˆ·ä¿¡æ¯æ›´æ–°
   - âœ… ç”¨æˆ·åˆ é™¤

2. **æ´»åŠ¨ç®¡ç†**
   - âœ… æ´»åŠ¨åˆ›å»º
   - âœ… æ´»åŠ¨æŸ¥è¯¢ï¼ˆå…¨éƒ¨/å•ä¸ª/æŒ‰çŠ¶æ€ï¼‰
   - âœ… æ´»åŠ¨æ›´æ–°
   - âœ… æ´»åŠ¨åˆ é™¤
   - âœ… æ´»åŠ¨çŠ¶æ€è‡ªåŠ¨æ›´æ–°

3. **æ´»åŠ¨å‚ä¸**
   - âœ… æ´»åŠ¨æŠ¥å
   - âœ… å–æ¶ˆæŠ¥å
   - âœ… æ´»åŠ¨ç­¾åˆ°
   - âœ… å‚ä¸è€…åˆ—è¡¨æŸ¥è¯¢
   - âœ… ç”¨æˆ·æ´»åŠ¨è®°å½•æŸ¥è¯¢

### ğŸ”„ å¯æ‰©å±•åŠŸèƒ½

1. **ç®¡ç†å‘˜åŠŸèƒ½**
   - ç”¨æˆ·ç®¡ç†ï¼ˆæ‰¹é‡æ“ä½œï¼‰
   - æ´»åŠ¨å®¡æ ¸
   - æ•°æ®ç»Ÿè®¡

2. **é«˜çº§åŠŸèƒ½**
   - æ´»åŠ¨æœç´¢ï¼ˆæŒ‰å…³é”®è¯ï¼‰
   - æ´»åŠ¨åˆ†ç±»
   - æ´»åŠ¨æ¨è
   - æ¶ˆæ¯é€šçŸ¥

3. **æ•°æ®ç»Ÿè®¡**
   - æ´»åŠ¨å‚ä¸ç‡ç»Ÿè®¡
   - ç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡
   - æ´»åŠ¨çƒ­åº¦æ’è¡Œ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ•°æ®åº“è¿æ¥**
   - MySQL æœåŠ¡æ˜¯å¦å¯åŠ¨
   - æ•°æ®åº“ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
   - æ•°æ®åº“ `easy_activity` æ˜¯å¦å·²åˆ›å»º

2. **ç«¯å£å ç”¨**
   - 8080 ç«¯å£æ˜¯å¦è¢«å ç”¨
   - å¯åœ¨ `application.yml` ä¸­ä¿®æ”¹ç«¯å£

3. **ç¼–è¯‘é”™è¯¯**
   - æ£€æŸ¥ JDK ç‰ˆæœ¬æ˜¯å¦ä¸º 17+
   - è¿è¡Œ `.\mvnw.cmd clean compile` æŸ¥çœ‹è¯¦ç»†é”™è¯¯

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œå‚è€ƒä½¿ç”¨ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024-12-24  
**é¡¹ç›®åç§°**: EasyActivity æ ¡å›­æ´»åŠ¨ç®¡ç†ç³»ç»Ÿ


